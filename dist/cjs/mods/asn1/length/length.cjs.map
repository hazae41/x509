{"version":3,"file":"length.cjs","sources":["../../../../../src/mods/asn1/length/length.ts"],"sourcesContent":["import { Binary } from \"libs/binary/binary.js\";\nimport { Bitset } from \"libs/bitset/bitset.js\";\n\nexport class Length {\n  readonly class = Length\n\n  constructor(\n    readonly value: number\n  ) { }\n\n  static read(binary: Binary) {\n    const first = binary.readUint8()\n    if (first < 128) return new this(first)\n\n    const count = new Bitset(first, 8).last(7)\n\n    let length = 0\n\n    for (let i = 0; i < count; i++)\n      length += binary.readUint8() * Math.pow(256, count - i - 1)\n\n    return new this(length)\n  }\n}"],"names":["Bitset"],"mappings":";;;;MAGa,MAAM,CAAA;AAGjB,IAAA,WAAA,CACW,KAAa,EAAA;QAAb,IAAK,CAAA,KAAA,GAAL,KAAK,CAAQ;QAHf,IAAK,CAAA,KAAA,GAAG,MAAM,CAAA;KAIlB;IAEL,OAAO,IAAI,CAAC,MAAc,EAAA;AACxB,QAAA,MAAM,KAAK,GAAG,MAAM,CAAC,SAAS,EAAE,CAAA;QAChC,IAAI,KAAK,GAAG,GAAG;AAAE,YAAA,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAA;AAEvC,QAAA,MAAM,KAAK,GAAG,IAAIA,aAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QAE1C,IAAI,MAAM,GAAG,CAAC,CAAA;QAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE;AAC5B,YAAA,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AAE7D,QAAA,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,CAAA;KACxB;AACF;;;;"}