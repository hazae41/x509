{"version":3,"file":"type.cjs","sources":["../../../../../src/mods/asn1/type/type.ts"],"sourcesContent":["import { Binary } from \"libs/binary/binary.js\";\nimport { Bitset } from \"libs/bitset/bitset.js\";\n\nexport class Type {\n  readonly class = Type\n\n  static clazzes = {\n    universal: 0,\n    application: 1,\n    context: 2,\n    private: 3\n  }\n\n  constructor(\n    readonly clazz: number,\n    readonly constructed: boolean,\n    readonly tag: number\n  ) { }\n\n  equals(other: Type) {\n    if (this.clazz !== other.clazz)\n      return false\n    if (this.constructed !== other.constructed)\n      return false\n    if (this.tag !== other.tag)\n      return false\n    return true\n  }\n\n  static read(binary: Binary) {\n    const type = binary.readUint8()\n    const bitset = new Bitset(type, 8)\n\n    const clazz = bitset.first(2)\n    const constructed = bitset.get(5)\n    const tag = bitset.last(5)\n\n    return new this(clazz, constructed, tag)\n  }\n}"],"names":["bitset","Bitset"],"mappings":";;;;MAGa,IAAI,CAAA;AAUf,IAAA,WAAA,CACW,KAAa,EACb,WAAoB,EACpB,GAAW,EAAA;QAFX,IAAK,CAAA,KAAA,GAAL,KAAK,CAAQ;QACb,IAAW,CAAA,WAAA,GAAX,WAAW,CAAS;QACpB,IAAG,CAAA,GAAA,GAAH,GAAG,CAAQ;QAZb,IAAK,CAAA,KAAA,GAAG,IAAI,CAAA;KAahB;AAEL,IAAA,MAAM,CAAC,KAAW,EAAA;AAChB,QAAA,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,KAAK;AAC5B,YAAA,OAAO,KAAK,CAAA;AACd,QAAA,IAAI,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW;AACxC,YAAA,OAAO,KAAK,CAAA;AACd,QAAA,IAAI,IAAI,CAAC,GAAG,KAAK,KAAK,CAAC,GAAG;AACxB,YAAA,OAAO,KAAK,CAAA;AACd,QAAA,OAAO,IAAI,CAAA;KACZ;IAED,OAAO,IAAI,CAAC,MAAc,EAAA;AACxB,QAAA,MAAM,IAAI,GAAG,MAAM,CAAC,SAAS,EAAE,CAAA;QAC/B,MAAMA,QAAM,GAAG,IAAIC,aAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAA;QAElC,MAAM,KAAK,GAAGD,QAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;QAC7B,MAAM,WAAW,GAAGA,QAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;QACjC,MAAM,GAAG,GAAGA,QAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QAE1B,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE,WAAW,EAAE,GAAG,CAAC,CAAA;KACzC;;AAhCM,IAAA,CAAA,OAAO,GAAG;AACf,IAAA,SAAS,EAAE,CAAC;AACZ,IAAA,WAAW,EAAE,CAAC;AACd,IAAA,OAAO,EAAE,CAAC;AACV,IAAA,OAAO,EAAE,CAAC;CACX;;;;"}