{"version":3,"file":"pem.cjs","sources":["../../../../../src/mods/x509/pem/pem.ts"],"sourcesContent":["\nexport namespace PEM {\n\n  export const header = `-----BEGIN CERTIFICATE-----`\n  export const footer = `-----END CERTIFICATE-----`\n\n  export function parse(text: string) {\n    text = text.replaceAll(`\\n`, ``)\n\n    if (!text.startsWith(header))\n      throw new Error(`Missing PEM header`)\n    if (!text.endsWith(footer))\n      throw new Error(`Missing PEM footer`)\n\n    const body = text.slice(header.length, -footer.length)\n\n    return Buffer.from(body, \"base64\")\n  }\n\n  export function stringify(buffer: Buffer) {\n    let result = `${header}\\n`\n    let body = buffer.toString(\"base64\")\n\n    while (body) {\n      result += `${body.slice(0, 64)}\\n`\n      body = body.slice(64)\n    }\n\n    result += `${footer}\\n`\n    return result\n  }\n}\n"],"names":["PEM"],"mappings":";;AACiBA,qBA8BhB;AA9BD,CAAA,UAAiB,GAAG,EAAA;IAEL,GAAM,CAAA,MAAA,GAAG,6BAA6B,CAAA;IACtC,GAAM,CAAA,MAAA,GAAG,2BAA2B,CAAA;IAEjD,SAAgB,KAAK,CAAC,IAAY,EAAA;QAChC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAI,EAAA,CAAA,EAAE,CAAE,CAAA,CAAC,CAAA;AAEhC,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAA,CAAA,MAAM,CAAC;AAC1B,YAAA,MAAM,IAAI,KAAK,CAAC,CAAA,kBAAA,CAAoB,CAAC,CAAA;AACvC,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAA,CAAA,MAAM,CAAC;AACxB,YAAA,MAAM,IAAI,KAAK,CAAC,CAAA,kBAAA,CAAoB,CAAC,CAAA;AAEvC,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAA,CAAA,MAAM,CAAC,MAAM,EAAE,CAAC,GAAA,CAAA,MAAM,CAAC,MAAM,CAAC,CAAA;QAEtD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;KACnC;AAXe,IAAA,GAAA,CAAA,KAAK,QAWpB,CAAA;IAED,SAAgB,SAAS,CAAC,MAAc,EAAA;AACtC,QAAA,IAAI,MAAM,GAAG,CAAA,EAAG,GAAA,CAAA,MAAM,IAAI,CAAA;QAC1B,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;AAEpC,QAAA,OAAO,IAAI,EAAE;YACX,MAAM,IAAI,CAAG,EAAA,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA,EAAA,CAAI,CAAA;AAClC,YAAA,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;AACtB,SAAA;AAED,QAAA,MAAM,IAAI,CAAA,EAAG,GAAA,CAAA,MAAM,IAAI,CAAA;AACvB,QAAA,OAAO,MAAM,CAAA;KACd;AAXe,IAAA,GAAA,CAAA,SAAS,YAWxB,CAAA;AACH,CAAC,EA9BgBA,WAAG,GAAHA,WAAG,KAAHA,WAAG,GA8BnB,EAAA,CAAA,CAAA;;"}