{"version":3,"file":"pem.test.cjs","sources":["../../../../src/mods/pem/pem.test.ts"],"sourcesContent":["import { PEM } from \"mods/pem/pem.js\";\nimport { readFile } from \"node:fs/promises\";\nimport { relative, resolve } from \"node:path\";\nimport { test } from \"uvu\";\nimport assert from \"uvu/assert\";\n\ntest.before(async () => {\n  const directory = resolve(\"./dist/test/\")\n  const { pathname } = new URL(import.meta.url)\n  console.log(relative(directory, pathname))\n})\n\nfunction ignoreLastNewline(text: string) {\n  if (text.endsWith(\"\\n\"))\n    return text.slice(0, -1)\n  else\n    return text\n}\n\ntest(\"Parse and stringify\", async () => {\n  const text = await readFile(\"./test/cert.pem\", \"utf8\")\n  const buffer = PEM.parse(text)\n  const text2 = PEM.stringify(buffer)\n\n  assert.is(ignoreLastNewline(text), ignoreLastNewline(text2))\n})\n\ntest.run()"],"names":["test","__awaiter","resolve","relative","readFile","PEM"],"mappings":";;;;;;;;;AAMAA,QAAI,CAAC,MAAM,CAAC,MAAWC,eAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AACrB,IAAA,MAAM,SAAS,GAAGC,iBAAO,CAAC,cAAc,CAAC,CAAA;AACzC,IAAA,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,GAAG,CAAC,gNAAe,CAAC,CAAA;IAC7C,OAAO,CAAC,GAAG,CAACC,kBAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAA;AAC5C,CAAC,CAAA,CAAC,CAAA;AAEF,SAAS,iBAAiB,CAAC,IAAY,EAAA;AACrC,IAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACrB,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;;AAExB,QAAA,OAAO,IAAI,CAAA;AACf,CAAC;AAEDH,QAAI,CAAC,qBAAqB,EAAE,MAAWC,eAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;IACrC,MAAM,IAAI,GAAG,MAAMG,iBAAQ,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAA;IACtD,MAAM,MAAM,GAAGC,OAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;IAC9B,MAAM,KAAK,GAAGA,OAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;AAEnC,IAAA,MAAM,CAAC,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAA;AAC9D,CAAC,CAAA,CAAC,CAAA;AAEFL,QAAI,CAAC,GAAG,EAAE;;"}